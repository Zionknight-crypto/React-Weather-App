{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\poeti\\\\WebD\\\\webdev-2019\\\\React\\\\new-weather-app\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\n/*****************************************/\n\n/*               API DATA                */\n\n/*****************************************/\n\nconst API_KEY = '336eac8083532c51fc2ac7331f8f597f';\nconst URL = 'http://api.weatherstack.com';\n/*****************************************/\n\n/*            Child Components           */\n\n/*****************************************/\n// // onChange={this.onSearchChange()} pass as a property in the input\n// // props={this.onSearchChange()} data={this.filteredData} pass as porperty in Card\n\n/*****************************************/\n\n/*            App Component              */\n\n/*****************************************/\n\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getAPI = async () => {\n      const apiCall = await fetch(`${URL}/current?access_key=${API_KEY}&query=${this.state.searchfield}`);\n      const data = await apiCall.json();\n      this.setState({\n        searchfield: data.location.name,\n        country: data.location.country,\n        localtime: data.location.localtime,\n        icon: data.current.weather_icons,\n        temperature: data.current.temperature,\n        desc: data.current.weather_descriptions\n      });\n    };\n\n    this.onSearchChange = event => {\n      console.log(event.target.value);\n      event.preventDefault();\n      this.setState({\n        searchfield: event.target.value\n      });\n    };\n\n    this.state = {\n      api: [],\n      searchfield: 'Helsinki',\n      country: '',\n      localtime: '',\n      temperature: '',\n      weather_descriptions: ''\n    };\n  }\n\n  componentDidMount() {\n    this.getAPI();\n  } //`${URL}/current?access_key=${API_KEY}&query=${this.state.searchfield}`\n\n\n  componentWillUpdate() {\n    onSearchChange();\n  }\n\n  render() {\n    console.log(this.state.searchfield);\n    console.log(this.state.country);\n    const {\n      searchfield,\n      country,\n      temperature,\n      desc,\n      localtime,\n      icon\n    } = this.state; // const filteredData = this.state.data.filter((data) => (\n    // data.name.toLowerCase().includes(this.state.searchfield.toLowerCase())))\n    //  onChange={this.handleChange}\n    // value={this.state.searchfield}\n    // onSubmit={this.onSearchChange} \n    //  \n\n    return React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"header__h1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"How's the weather today?\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSearchChange,\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"searchbox\",\n      name: \"searchfield\",\n      type: \"text\",\n      placeholder: \"city...\",\n      value: this.state.searchfield,\n      onChange: this.onSearchChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn\",\n      onSubmit: this.onSearchChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Search\")))), React.createElement(\"main\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, searchfield), React.createElement(\"p\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, country), React.createElement(\"p\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, localtime), React.createElement(\"img\", {\n      alt: \"icon\",\n      src: icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, temperature), React.createElement(\"p\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, desc)))), React.createElement(\"footer\", {\n      className: \"footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"footer__left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"footer__left-copy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"\\xA9 Built in 2020\")), React.createElement(\"div\", {\n      className: \"footer__right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"footer__right-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"footer__right-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"footer__right-link\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: \"https://github.com/Zionknight-crypto?tab=repositories\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"David's github\"))))));\n  }\n\n}\nexport default App;","map":{"version":3,"sources":["C:/Users/poeti/WebD/webdev-2019/React/new-weather-app/src/App.js"],"names":["React","Component","API_KEY","URL","App","constructor","props","getAPI","apiCall","fetch","state","searchfield","data","json","setState","location","name","country","localtime","icon","current","weather_icons","temperature","desc","weather_descriptions","onSearchChange","event","console","log","target","value","preventDefault","api","componentDidMount","componentWillUpdate","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\n\n\n/*****************************************/ \n/*               API DATA                */\n/*****************************************/\n\nconst API_KEY = '336eac8083532c51fc2ac7331f8f597f'\nconst URL = 'http://api.weatherstack.com'\n\n/*****************************************/ \n/*            Child Components           */\n/*****************************************/\n\n// // onChange={this.onSearchChange()} pass as a property in the input\n\n// // props={this.onSearchChange()} data={this.filteredData} pass as porperty in Card\n\n/*****************************************/ \n/*            App Component              */\n/*****************************************/\n\nexport class App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n        api: [],  \n        searchfield: 'Helsinki',\n        country: '',\n        localtime: '',\n        temperature: '',\n        weather_descriptions: ''\n    }     \n  }\n\n  componentDidMount() {\n    this.getAPI()\n  }\n      //`${URL}/current?access_key=${API_KEY}&query=${this.state.searchfield}`\n    getAPI = async () => {\n      const apiCall = await fetch(`${URL}/current?access_key=${API_KEY}&query=${this.state.searchfield}`);\n      const data = await apiCall.json();\n       this.setState({\n          searchfield: data.location.name,\n          country: data.location.country,\n          localtime: data.location.localtime,\n          icon: data.current.weather_icons,\n          temperature: data.current.temperature,\n          desc: data.current.weather_descriptions \n          \n      })\n    }\n\n  componentWillUpdate() {\n    onSearchChange();\n  }\n  \n  onSearchChange = (event) => {\n    console.log(event.target.value)\n    event.preventDefault()\n            this.setState({searchfield: event.target.value })            \n  }\n  \n  render() {\n    console.log(this.state.searchfield)\n   console.log(this.state.country)\n    const {searchfield, country, temperature, desc, localtime, icon } = this.state;\n\n    // const filteredData = this.state.data.filter((data) => (\n    // data.name.toLowerCase().includes(this.state.searchfield.toLowerCase())))\n    //  onChange={this.handleChange}\n    // value={this.state.searchfield}\n    // onSubmit={this.onSearchChange} \n    //  \n\n        return (\n        <div className=\"app\">\n          <header className=\"header\">\n            <h1 className=\"header__h1\">How's the weather today?</h1>\n              <div>\n                <form onSubmit={this.onSearchChange}  className=\"form\">\n                  <input className=\"searchbox\" name=\"searchfield\" type=\"text\"  placeholder=\"city...\" value={this.state.searchfield} onChange={this.onSearchChange} />\n                  <button className=\"btn\" onSubmit={this.onSearchChange}>Search</button>\n                </form>\n              </div>\n          </header>\n\n          <main className=\"main\">\n            <section>\n              <div className=\"card\">\n                <p className=\"description\">{searchfield}</p> \n                <p className=\"description\">{country}</p>\n                <p className=\"description\">{localtime}</p>\n                <img alt=\"icon\" src={icon}/>\n                <p className=\"description\">{temperature}</p>\n                <p className=\"description\">{desc}</p>\n              </div>\n            </section>\n          </main> \n\n          <footer className=\"footer\">\n            <div className=\"footer__left\">\n              <div className=\"footer__left-copy\">&copy; Built in 2020</div>\n            </div>\n            <div className=\"footer__right\">\n              <div className=\"footer__right-icons\">\n                <div className=\"footer__right-item\">\n                  <a className=\"footer__right-link\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/Zionknight-crypto?tab=repositories\">David's github</a>\n                </div>\n              </div>\n            </div>\n          </footer>\n        </div>\n      )\n    }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}