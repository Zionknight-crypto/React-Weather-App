{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\poeti\\\\WebD\\\\webdev-2019\\\\React\\\\React-Weather-App\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\poeti\\\\WebD\\\\webdev-2019\\\\React\\\\React-Weather-App\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\poeti\\\\WebD\\\\webdev-2019\\\\React\\\\React-Weather-App\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\poeti\\\\WebD\\\\webdev-2019\\\\React\\\\React-Weather-App\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\poeti\\\\WebD\\\\webdev-2019\\\\React\\\\React-Weather-App\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\poeti\\\\WebD\\\\webdev-2019\\\\React\\\\React-Weather-App\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\poeti\\\\WebD\\\\webdev-2019\\\\React\\\\React-Weather-App\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./App.css';import sun from'./img/sun.png';import ErrorBoundry from'./ErrorBoundry';/*****************************************/ /*               API DATA                */ /*****************************************/var API_KEY='336eac8083532c51fc2ac7331f8f597f';var URL='http://api.weatherstack.com';/*****************************************/ /*            App Component              */ /*****************************************/export var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={api:[],searchfield:'Helsinki',city:'',country:'',localtime:'',icon:sun,temperature:'',desc:''};_this.getAPI=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var apiCall,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(URL,\"/current?access_key=\").concat(API_KEY,\"&query=\").concat(_this.state.searchfield));case 2:apiCall=_context.sent;_context.next=5;return apiCall.json();case 5:data=_context.sent;console.log(data);_this.setState({city:data.location.name,country:data.location.country,localtime:data.location.localtime,icon:data.current.weather_icons,temperature:data.current.temperature,desc:data.current.weather_descriptions});case 8:case\"end\":return _context.stop();}}},_callee);}));_this.onSearchChange=function(e){_this.setState({searchfield:e.target.value});};_this.onSubmitChange=function(e){e.preventDefault();_this.setState({searchfield:e.target.value});_this.getAPI();};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAPI();}//`${URL}/current?access_key=${API_KEY}&query=${this.state.searchfield}`\n},{key:\"render\",value:function render(){var _this$state=this.state,city=_this$state.city,country=_this$state.country,temperature=_this$state.temperature,desc=_this$state.desc,localtime=_this$state.localtime,icon=_this$state.icon;return React.createElement(\"div\",{className:\"app\"},React.createElement(\"header\",{className:\"header\"},React.createElement(\"h1\",{className:\"header__h1\"},\"Weather by city \",'- '+city),React.createElement(\"div\",null,React.createElement(\"form\",{onSubmit:this.onSubmitChange,className:\"form\"},React.createElement(\"input\",{className:\"searchbox\",name:\"searchfield\",type:\"text\",placeholder:\"city...\",value:this.state.searchfield,onChange:this.onSearchChange}),React.createElement(\"button\",{type:\"submit\",className:\"btn\"},\"Search\")))),React.createElement(\"main\",{className:\"main\"},React.createElement(\"section\",null,React.createElement(ErrorBoundry,null,React.createElement(\"div\",{className:\"card\"},React.createElement(\"p\",{className:\"description\"},\"City: \",city),React.createElement(\"p\",{className:\"description\"},\"Country: \",country),React.createElement(\"p\",{className:\"description\"},\"Local Time: \",localtime),React.createElement(\"img\",{alt:\"icon\",src:icon}),React.createElement(\"p\",{className:\"description\"},\"Degrees Celsius: \",temperature),React.createElement(\"p\",{className:\"description\"},desc))))),React.createElement(\"footer\",{className:\"footer\"},React.createElement(\"div\",{className:\"footer__left\"},React.createElement(\"div\",{className:\"footer__left-copy\"},\"\\xA9 Built in 2020\")),React.createElement(\"div\",{className:\"footer__right\"},React.createElement(\"div\",{className:\"footer__right-icons\"},React.createElement(\"a\",{className:\"footer__right-link\",target:\"_blank\",rel:\"noopener noreferrer\",href:\"https://github.com/Zionknight-crypto?tab=repositories\"},\"David's github\")))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/poeti/WebD/webdev-2019/React/React-Weather-App/src/App.js"],"names":["React","Component","sun","ErrorBoundry","API_KEY","URL","App","state","api","searchfield","city","country","localtime","icon","temperature","desc","getAPI","fetch","apiCall","json","data","console","log","setState","location","name","current","weather_icons","weather_descriptions","onSearchChange","e","target","value","onSubmitChange","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport sun from './img/sun.png'\nimport ErrorBoundry from './ErrorBoundry'\n\n/*****************************************/ \n/*               API DATA                */\n/*****************************************/\n\nconst API_KEY = '336eac8083532c51fc2ac7331f8f597f'\nconst URL = 'http://api.weatherstack.com'\n\n\n/*****************************************/ \n/*            App Component              */\n/*****************************************/\n\nexport class App extends Component {\n \n  state = {\n    api: [],  \n    searchfield: 'Helsinki',\n    city: '',\n    country: '',\n    localtime:'',\n    icon: sun,\n    temperature: '',\n    desc: ''\n}   \n\n  componentDidMount() {\n    this.getAPI();\n  }\n      //`${URL}/current?access_key=${API_KEY}&query=${this.state.searchfield}`\n    getAPI = async () => {\n      const apiCall = await fetch(`${URL}/current?access_key=${API_KEY}&query=${this.state.searchfield}`);\n      const data = await apiCall.json();\n      console.log(data)\n       this.setState({\n          city: data.location.name,\n          country: data.location.country,\n          localtime: data.location.localtime,\n          icon: data.current.weather_icons,\n          temperature: data.current.temperature,\n          desc: data.current.weather_descriptions \n          \n      })\n    }\n\n  onSearchChange = (e) => {\n            this.setState({searchfield: e.target.value })            \n  }\n\n  onSubmitChange = (e) => {\n    e.preventDefault()\n    this.setState({searchfield: e.target.value }) \n\n    this.getAPI();\n  } \n\n  render() {\n\n    const {city, country, temperature, desc, localtime, icon } = this.state;\n\n        return (\n        <div className=\"app\">\n          <header className=\"header\">\n            <h1 className=\"header__h1\">Weather by city {'- ' + city}</h1>\n              <div>\n                <form onSubmit={this.onSubmitChange}  className=\"form\">\n                  <input className=\"searchbox\" name=\"searchfield\" type=\"text\"  placeholder=\"city...\" value={this.state.searchfield} onChange={this.onSearchChange} />\n                  <button type=\"submit\" className=\"btn\">Search</button>\n                </form>\n              </div>\n          </header>\n\n          <main className=\"main\">\n            <section>\n              <ErrorBoundry>\n              <div className=\"card\">\n                <p className=\"description\">City: {city}</p> \n                <p className=\"description\">Country: {country}</p>\n                <p className=\"description\">Local Time: {localtime}</p>\n                <img alt=\"icon\" src={icon}/>\n                <p className=\"description\">Degrees Celsius: {temperature}</p>\n                <p className=\"description\">{desc}</p>\n              </div>\n              </ErrorBoundry>\n            </section>\n            \n          </main> \n\n          <footer className=\"footer\">\n            <div className=\"footer__left\">\n              <div className=\"footer__left-copy\">&copy; Built in 2020</div>\n            </div>\n            <div className=\"footer__right\">\n              <div className=\"footer__right-icons\">\n                  <a className=\"footer__right-link\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/Zionknight-crypto?tab=repositories\">David's github</a>\n              </div>\n            </div>\n          </footer>\n        </div>\n      )\n    }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}